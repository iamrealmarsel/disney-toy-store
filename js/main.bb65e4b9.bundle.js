(()=>{var e,t,s={211:function(e,t){!function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function s(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function r(e){e.preventDefault()}function a(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function i(e,t,s){s>0&&(p(e,t),setTimeout((function(){d(e,t)}),s))}function o(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function c(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function p(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function d(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(e){var t=void 0!==window.pageXOffset,s="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:s?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:s?e.documentElement.scrollTop:e.body.scrollTop}}function u(e,t){return 100/(t-e)}function g(e,t,s){return 100*t/(e[s+1]-e[s])}function m(e,t){for(var s=1;e>=t[s];)s+=1;return s}function f(e,t,s){if(s>=e.slice(-1)[0])return 100;var n=m(s,e),r=e[n-1],a=e[n],i=t[n-1],o=t[n];return i+function(e,t){return g(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([r,a],s)/u(i,o)}function y(e,t,s,n){if(100===n)return n;var r=m(n,e),a=e[r-1],i=e[r];return s?n-a>(i-a)/2?i:a:t[r-1]?e[r-1]+function(e,t){return Math.round(e/t)*t}(n-e[r-1],t[r-1]):n}var v,S;e.PipsMode=void 0,(S=e.PipsMode||(e.PipsMode={})).Range="range",S.Steps="steps",S.Positions="positions",S.Count="count",S.Values="values",e.PipsType=void 0,(v=e.PipsType||(e.PipsType={}))[v.None=-1]="None",v[v.NoValue=0]="NoValue",v[v.LargeValue=1]="LargeValue",v[v.SmallValue=2]="SmallValue";var E=function(){function e(e,t,s){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.snap=t;var r=[];for(Object.keys(e).forEach((function(t){r.push([l(e[t]),t])})),r.sort((function(e,t){return e[0][0]-t[0][0]})),n=0;n<r.length;n++)this.handleEntryPoint(r[n][1],r[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(e){for(var t=[],s=0;s<this.xNumSteps.length-1;s++)t[s]=g(this.xVal,e,s);return t},e.prototype.getAbsoluteDistance=function(e,t,s){var n,r=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[r+1];)r++;else e===this.xPct[this.xPct.length-1]&&(r=this.xPct.length-2);s||e!==this.xPct[r+1]||r++,null===t&&(t=[]);var a=1,i=t[r],o=0,l=0,c=0,p=0;for(n=s?(e-this.xPct[r])/(this.xPct[r+1]-this.xPct[r]):(this.xPct[r+1]-e)/(this.xPct[r+1]-this.xPct[r]);i>0;)o=this.xPct[r+1+p]-this.xPct[r+p],t[r+p]*a+100-100*n>100?(l=o*n,a=(i-100*n)/t[r+p],n=1):(l=t[r+p]*o/100*a,a=0),s?(c-=l,this.xPct.length+p>=1&&p--):(c+=l,this.xPct.length-p>=1&&p++),i=t[r+p]*a;return e+c},e.prototype.toStepping=function(e){return f(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,s){if(s>=100)return e.slice(-1)[0];var n=m(s,t),r=e[n-1],a=e[n],i=t[n-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([r,a],(s-i)*u(i,t[n]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return y(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,s){var n=m(e,this.xPct);return(100===e||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/s},e.prototype.getNearbySteps=function(e){var t=m(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(c);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var s;if(!a(s="min"===e?0:"max"===e?100:parseFloat(e))||!a(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(s),this.xVal.push(t[0]);var n=Number(t[1]);s?this.xSteps.push(!isNaN(n)&&n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=g([this.xVal[e],this.xVal[e+1]],t,0)/u(this.xPct[e],this.xPct[e+1]);var s=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(s.toFixed(3))-1),r=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=r}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),b={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},_={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},w=".__tooltips",x=".__aria";function T(e,t){if(!a(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function C(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function L(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function R(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function k(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new E(t,e.snap||!1,e.singleStep)}function A(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function P(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function O(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function H(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function M(e,t){var s,n=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(s=1;s<e.handles;s++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function N(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function F(e,t){if(!a(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function I(e,t){if(!a(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function U(e,t){var s;if(!a(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!a(t[0])&&!a(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],s=0;s<e.spectrum.xNumSteps.length-1;s++)if(e.padding[0][s]<0||e.padding[1][s]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],r=e.spectrum.xVal[0];if(n/(e.spectrum.xVal[e.spectrum.xVal.length-1]-r)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function V(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function j(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var s=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,i=t.indexOf("hover")>=0,o=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");F(e,e.start[1]-e.start[0])}if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:s||a,drag:n,dragAll:l,smoothSteps:c,fixed:r,snap:a,hover:i,unconstrained:o}}function B(e,s){if(!1!==s)if(!0===s||t(s)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(s)}else{if((s=l(s)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");s.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=s}}function D(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Y(e,s){if(!t(s))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=s}function $(e,s){if(!function(e){return t(e)&&"function"==typeof e.from}(s))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=s}function z(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function q(e,t){e.documentElement=t}function W(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function G(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(s){e.cssClasses[s]=e.cssPrefix+t[s]}))):e.cssClasses=t}function J(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:b,format:b},s={step:{r:!1,t:T},keyboardPageMultiplier:{r:!1,t:C},keyboardMultiplier:{r:!1,t:L},keyboardDefaultStep:{r:!1,t:R},start:{r:!0,t:A},connect:{r:!0,t:M},direction:{r:!0,t:V},snap:{r:!1,t:P},animate:{r:!1,t:O},animationDuration:{r:!1,t:H},range:{r:!0,t:k},orientation:{r:!1,t:N},margin:{r:!1,t:F},limit:{r:!1,t:I},padding:{r:!1,t:U},behaviour:{r:!0,t:j},ariaFormat:{r:!1,t:Y},format:{r:!1,t:$},tooltips:{r:!1,t:B},keyboardSupport:{r:!0,t:z},documentElement:{r:!1,t:q},cssPrefix:{r:!0,t:W},cssClasses:{r:!0,t:G},handleAttributes:{r:!1,t:D}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:_,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(s).forEach((function(a){if(n(e[a])||void 0!==r[a])s[a].t(t,n(e[a])?e[a]:r[a]);else if(s[a].r)throw new Error("noUiSlider: '"+a+"' is required.")})),t.pips=e.pips;var a=document.createElement("div"),i=void 0!==a.style.msTransform,o=void 0!==a.style.transform;t.transformRule=o?"transform":i?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function X(t,a,c){var u,g,m,f,y,v,S,E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},b=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),_=t,T=a.spectrum,C=[],L=[],R=[],k=0,A={},P=t.ownerDocument,O=a.documentElement||P.documentElement,H=P.body,M="rtl"===P.dir||1===a.ort?0:100;function N(e,t){var s=P.createElement("div");return t&&p(s,t),e.appendChild(s),s}function F(e,t){var s=N(e,a.cssClasses.origin),n=N(s,a.cssClasses.handle);if(N(n,a.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),a.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return function(e,t){if(V()||j(t))return!1;var s=["Left","Right"],n=["Down","Up"],r=["PageDown","PageUp"],i=["Home","End"];a.dir&&!a.ort?s.reverse():a.ort&&!a.dir&&(n.reverse(),r.reverse());var o,l=e.key.replace("Arrow",""),c=l===r[0],p=l===r[1],d=l===n[0]||l===s[0]||c,h=l===n[1]||l===s[1]||p,u=l===i[0],g=l===i[1];if(!(d||h||u||g))return!0;if(e.preventDefault(),h||d){var m=d?0:1,f=ye(t)[m];if(null===f)return!1;!1===f&&(f=T.getDefaultStep(L[t],d,a.keyboardDefaultStep)),f*=p||c?a.keyboardPageMultiplier:a.keyboardMultiplier,f=Math.max(f,1e-7),f*=d?-1:1,o=C[t]+f}else o=g?a.spectrum.xVal[a.spectrum.xVal.length-1]:a.spectrum.xVal[0];return he(t,T.toStepping(o),!0,!0),ie("slide",t),ie("update",t),ie("change",t),ie("set",t),!1}(e,t)}))),void 0!==a.handleAttributes){var r=a.handleAttributes[t];Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",a.ort?"vertical":"horizontal"),0===t?p(n,a.cssClasses.handleLower):t===a.handles-1&&p(n,a.cssClasses.handleUpper),s}function I(e,t){return!!t&&N(e,a.cssClasses.connect)}function U(e,t){return!(!a.tooltips||!a.tooltips[t])&&N(e.firstChild,a.cssClasses.tooltip)}function V(){return _.hasAttribute("disabled")}function j(e){return g[e].hasAttribute("disabled")}function B(){y&&(ae("update"+w),y.forEach((function(e){e&&s(e)})),y=null)}function D(){B(),y=g.map(U),re("update"+w,(function(e,t,s){if(y&&a.tooltips&&!1!==y[t]){var n=e[t];!0!==a.tooltips[t]&&(n=a.tooltips[t].to(s[t])),y[t].innerHTML=n}}))}function Y(e,t){return e.map((function(e){return T.fromStepping(t?T.getStep(e):e)}))}function $(t){var s,n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return T.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var s=t.values-1,n=100/s,r=[];s--;)r[s]=s*n;return r.push(100),Y(r,t.stepped)}return t.mode===e.PipsMode.Positions?Y(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return T.fromStepping(T.getStep(T.toStepping(e)))})):t.values:[]}(t),r={},a=T.xVal[0],i=T.xVal[T.xVal.length-1],o=!1,l=!1,c=0;return(s=n.slice().sort((function(e,t){return e-t})),n=s.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==a&&(n.unshift(a),o=!0),n[n.length-1]!==i&&(n.push(i),l=!0),n.forEach((function(s,a){var i,p,d,h,u,g,m,f,y,v,S=s,E=n[a+1],b=t.mode===e.PipsMode.Steps;for(b&&(i=T.xNumSteps[a]),i||(i=E-S),void 0===E&&(E=S),i=Math.max(i,1e-7),p=S;p<=E;p=Number((p+i).toFixed(7))){for(f=(u=(h=T.toStepping(p))-c)/(t.density||1),v=u/(y=Math.round(f)),d=1;d<=y;d+=1)r[(g=c+d*v).toFixed(5)]=[T.fromStepping(g),0];m=n.indexOf(p)>-1?e.PipsType.LargeValue:b?e.PipsType.SmallValue:e.PipsType.NoValue,!a&&o&&p!==E&&(m=0),p===E&&l||(r[h.toFixed(5)]=[p,m]),c=h}})),r}function z(t,s,n){var r,i,o=P.createElement("div"),l=((r={})[e.PipsType.None]="",r[e.PipsType.NoValue]=a.cssClasses.valueNormal,r[e.PipsType.LargeValue]=a.cssClasses.valueLarge,r[e.PipsType.SmallValue]=a.cssClasses.valueSub,r),c=((i={})[e.PipsType.None]="",i[e.PipsType.NoValue]=a.cssClasses.markerNormal,i[e.PipsType.LargeValue]=a.cssClasses.markerLarge,i[e.PipsType.SmallValue]=a.cssClasses.markerSub,i),d=[a.cssClasses.valueHorizontal,a.cssClasses.valueVertical],h=[a.cssClasses.markerHorizontal,a.cssClasses.markerVertical];function u(e,t){var s=t===a.cssClasses.value,n=s?l:c;return t+" "+(s?d:h)[a.ort]+" "+n[e]}return p(o,a.cssClasses.pips),p(o,0===a.ort?a.cssClasses.pipsHorizontal:a.cssClasses.pipsVertical),Object.keys(t).forEach((function(r){!function(t,r,i){if((i=s?s(r,i):i)!==e.PipsType.None){var l=N(o,!1);l.className=u(i,a.cssClasses.marker),l.style[a.style]=t+"%",i>e.PipsType.NoValue&&((l=N(o,!1)).className=u(i,a.cssClasses.value),l.setAttribute("data-value",String(r)),l.style[a.style]=t+"%",l.innerHTML=String(n.to(r)))}}(r,t[r][0],t[r][1])})),o}function q(){f&&(s(f),f=null)}function W(e){q();var t=$(e),s=e.filter,n=e.format||{to:function(e){return String(Math.round(e))}};return f=_.appendChild(z(t,s,n))}function G(){var e=u.getBoundingClientRect(),t="offset"+["Width","Height"][a.ort];return 0===a.ort?e.width||u[t]:e.height||u[t]}function X(e,t,s,n){var r=function(r){var i,o,l=function(e,t,s){var n=0===e.type.indexOf("touch"),r=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),i=0,o=0;if(0===e.type.indexOf("MSPointer")&&(a=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){var n=t.target;return n===s||s.contains(n)||e.composed&&e.composedPath().shift()===s};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;i=c[0].pageX,o=c[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,l);if(!p)return!1;i=p.pageX,o=p.pageY}}return t=t||h(P),(r||a)&&(i=e.clientX+t.x,o=e.clientY+t.y),e.pageOffset=t,e.points=[i,o],e.cursor=r||a,e}(r,n.pageOffset,n.target||t);return!!l&&!(V()&&!n.doNotReject)&&(i=_,o=a.cssClasses.tap,!((i.classList?i.classList.contains(o):new RegExp("\\b"+o+"\\b").test(i.className))&&!n.doNotReject))&&!(e===E.start&&void 0!==l.buttons&&l.buttons>1)&&(!n.hover||!l.buttons)&&(b||l.preventDefault(),l.calcPoint=l.points[a.ort],void s(l,n))},i=[];return e.split(" ").forEach((function(e){t.addEventListener(e,r,!!b&&{passive:!0}),i.push([e,r])})),i}function Z(e){var t,s,n,r,i,l,c=100*(e-(t=u,s=a.ort,n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.documentElement,l=h(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),s?n.top+l.y-i.clientTop:n.left+l.x-i.clientLeft))/G();return c=o(c),a.dir?100-c:c}function K(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ee(e,t)}function Q(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ee(e,t);var s=(a.dir?-1:1)*(e.calcPoint-t.startCalcPoint);ce(s>0,100*s/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ee(e,t){t.handle&&(d(t.handle,a.cssClasses.active),k-=1),t.listeners.forEach((function(e){O.removeEventListener(e[0],e[1])})),0===k&&(d(_,a.cssClasses.drag),de(),e.cursor&&(H.style.cursor="",H.removeEventListener("selectstart",r))),a.events.smoothSteps&&(t.handleNumbers.forEach((function(e){he(e,L[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){ie("update",e)}))),t.handleNumbers.forEach((function(e){ie("change",e),ie("set",e),ie("end",e)}))}function te(e,t){if(!t.handleNumbers.some(j)){var s;1===t.handleNumbers.length&&(s=g[t.handleNumbers[0]].children[0],k+=1,p(s,a.cssClasses.active)),e.stopPropagation();var n=[],i=X(E.move,O,Q,{target:e.target,handle:s,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:G(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:L.slice()}),o=X(E.end,O,ee,{target:e.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),l=X("mouseout",O,K,{target:e.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,i.concat(o,l)),e.cursor&&(H.style.cursor=getComputedStyle(e.target).cursor,g.length>1&&p(_,a.cssClasses.drag),H.addEventListener("selectstart",r,!1)),t.handleNumbers.forEach((function(e){ie("start",e)}))}}function se(e){e.stopPropagation();var t=Z(e.calcPoint),s=function(e){var t=100,s=!1;return g.forEach((function(n,r){if(!j(r)){var a=L[r],i=Math.abs(a-e);(i<t||i<=t&&e>a||100===i&&100===t)&&(s=r,t=i)}})),s}(t);!1!==s&&(a.events.snap||i(_,a.cssClasses.tap,a.animationDuration),he(s,t,!0,!0),de(),ie("slide",s,!0),ie("update",s,!0),a.events.snap?te(e,{handleNumbers:[s]}):(ie("change",s,!0),ie("set",s,!0)))}function ne(e){var t=Z(e.calcPoint),s=T.getStep(t),n=T.fromStepping(s);Object.keys(A).forEach((function(e){"hover"===e.split(".")[0]&&A[e].forEach((function(e){e.call(ve,n)}))}))}function re(e,t){A[e]=A[e]||[],A[e].push(t),"update"===e.split(".")[0]&&g.forEach((function(e,t){ie("update",t)}))}function ae(e){var t=e&&e.split(".")[0],s=t?e.substring(t.length):e;Object.keys(A).forEach((function(e){var n=e.split(".")[0],r=e.substring(n.length);t&&t!==n||s&&s!==r||function(e){return e===x||e===w}(r)&&s!==r||delete A[e]}))}function ie(e,t,s){Object.keys(A).forEach((function(n){var r=n.split(".")[0];e===r&&A[n].forEach((function(e){e.call(ve,C.map(a.format.to),t,C.slice(),s||!1,L.slice(),ve)}))}))}function oe(e,t,s,n,r,i,l){var c;return g.length>1&&!a.events.unconstrained&&(n&&t>0&&(c=T.getAbsoluteDistance(e[t-1],a.margin,!1),s=Math.max(s,c)),r&&t<g.length-1&&(c=T.getAbsoluteDistance(e[t+1],a.margin,!0),s=Math.min(s,c))),g.length>1&&a.limit&&(n&&t>0&&(c=T.getAbsoluteDistance(e[t-1],a.limit,!1),s=Math.min(s,c)),r&&t<g.length-1&&(c=T.getAbsoluteDistance(e[t+1],a.limit,!0),s=Math.max(s,c))),a.padding&&(0===t&&(c=T.getAbsoluteDistance(0,a.padding[0],!1),s=Math.max(s,c)),t===g.length-1&&(c=T.getAbsoluteDistance(100,a.padding[1],!0),s=Math.min(s,c))),l||(s=T.getStep(s)),!((s=o(s))===e[t]&&!i)&&s}function le(e,t){var s=a.ort;return(s?t:e)+", "+(s?e:t)}function ce(e,t,s,n,r){var i=s.slice(),o=n[0],l=a.events.smoothSteps,c=[!e,e],p=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,s){var n=oe(i,e,i[e]+t,c[s],p[s],!1,l);!1===n?t=0:(t=n-i[e],i[e]=n)})):c=p=[!0];var d=!1;n.forEach((function(e,n){d=he(e,s[e]+t,c[n],p[n],!1,l)||d})),d&&(n.forEach((function(e){ie("update",e),ie("slide",e)})),null!=r&&ie("drag",o))}function pe(e,t){return a.dir?100-e-t:e}function de(){R.forEach((function(e){var t=L[e]>50?-1:1,s=3+(g.length+t*e);g[e].style.zIndex=String(s)}))}function he(e,t,s,n,r,i){return r||(t=oe(L,e,t,s,n,!1,i)),!1!==t&&(function(e,t){L[e]=t,C[e]=T.fromStepping(t);var s="translate("+le(pe(t,0)-M+"%","0")+")";g[e].style[a.transformRule]=s,ue(e),ue(e+1)}(e,t),!0)}function ue(e){if(m[e]){var t=0,s=100;0!==e&&(t=L[e-1]),e!==m.length-1&&(s=L[e]);var n=s-t,r="translate("+le(pe(t,n)+"%","0")+")",i="scale("+le(n/100,"1")+")";m[e].style[a.transformRule]=r+" "+i}}function ge(e,t){return null===e||!1===e||void 0===e?L[t]:("number"==typeof e&&(e=String(e)),!1!==(e=a.format.from(e))&&(e=T.toStepping(e)),!1===e||isNaN(e)?L[t]:e)}function me(e,t,s){var n=l(e),r=void 0===L[0];t=void 0===t||t,a.animate&&!r&&i(_,a.cssClasses.tap,a.animationDuration),R.forEach((function(e){he(e,ge(n[e],e),!0,!1,s)}));var o=1===R.length?0:1;if(r&&T.hasNoSize()&&(s=!0,L[0]=0,R.length>1)){var c=100/(R.length-1);R.forEach((function(e){L[e]=e*c}))}for(;o<R.length;++o)R.forEach((function(e){he(e,L[e],!0,!0,s)}));de(),R.forEach((function(e){ie("update",e),null!==n[e]&&t&&ie("set",e)}))}function fe(e){if(void 0===e&&(e=!1),e)return 1===C.length?C[0]:C.slice(0);var t=C.map(a.format.to);return 1===t.length?t[0]:t}function ye(e){var t=L[e],s=T.getNearbySteps(t),n=C[e],r=s.thisStep.step,i=null;if(a.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==r&&n+r>s.stepAfter.startValue&&(r=s.stepAfter.startValue-n),i=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===t?r=null:0===t&&(i=null);var o=T.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(o))),null!==i&&!1!==i&&(i=Number(i.toFixed(o))),[i,r]}p(S=_,a.cssClasses.target),0===a.dir?p(S,a.cssClasses.ltr):p(S,a.cssClasses.rtl),0===a.ort?p(S,a.cssClasses.horizontal):p(S,a.cssClasses.vertical),p(S,"rtl"===getComputedStyle(S).direction?a.cssClasses.textDirectionRtl:a.cssClasses.textDirectionLtr),u=N(S,a.cssClasses.base),function(e,t){var s=N(t,a.cssClasses.connects);g=[],(m=[]).push(I(s,e[0]));for(var n=0;n<a.handles;n++)g.push(F(t,n)),R[n]=n,m.push(I(s,e[n+1]))}(a.connect,u),(v=a.events).fixed||g.forEach((function(e,t){X(E.start,e.children[0],te,{handleNumbers:[t]})})),v.tap&&X(E.start,u,se,{}),v.hover&&X(E.move,u,ne,{hover:!0}),v.drag&&m.forEach((function(e,t){if(!1!==e&&0!==t&&t!==m.length-1){var s=g[t-1],n=g[t],r=[e],i=[s,n],o=[t-1,t];p(e,a.cssClasses.draggable),v.fixed&&(r.push(s.children[0]),r.push(n.children[0])),v.dragAll&&(i=g,o=R),r.forEach((function(t){X(E.start,t,te,{handles:i,handleNumbers:o,connect:e})}))}})),me(a.start),a.pips&&W(a.pips),a.tooltips&&D(),ae("update"+x),re("update"+x,(function(e,t,s,n,r){R.forEach((function(e){var t=g[e],n=oe(L,e,0,!0,!0,!0),i=oe(L,e,100,!0,!0,!0),o=r[e],l=String(a.ariaFormat.to(s[e]));n=T.fromStepping(n).toFixed(1),i=T.fromStepping(i).toFixed(1),o=T.fromStepping(o).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",i),t.children[0].setAttribute("aria-valuenow",o),t.children[0].setAttribute("aria-valuetext",l)}))}));var ve={destroy:function(){for(ae(x),ae(w),Object.keys(a.cssClasses).forEach((function(e){d(_,a.cssClasses[e])}));_.firstChild;)_.removeChild(_.firstChild);delete _.noUiSlider},steps:function(){return R.map(ye)},on:re,off:ae,get:fe,set:me,setHandle:function(e,t,s,n){if(!((e=Number(e))>=0&&e<R.length))throw new Error("noUiSlider: invalid handle number, got: "+e);he(e,ge(t,e),!0,!0,n),ie("update",e),s&&ie("set",e)},reset:function(e){me(a.start,e)},__moveHandles:function(e,t,s){ce(e,t,L,s)},options:c,updateOptions:function(e,t){var s=fe(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach((function(t){void 0!==e[t]&&(c[t]=e[t])}));var i=J(c);r.forEach((function(t){void 0!==e[t]&&(a[t]=i[t])})),T=i.spectrum,a.margin=i.margin,a.limit=i.limit,a.padding=i.padding,a.pips?W(a.pips):q(),a.tooltips?D():B(),L=[],me(n(e.start)?e.start:s,t)},target:_,removePips:q,removeTooltips:B,getPositions:function(){return L.slice()},getTooltips:function(){return y},getOrigins:function(){return g},pips:W};return ve}function Z(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var s=X(e,J(t),t);return e.noUiSlider=s,s}var K={__spectrum:E,cssClasses:_,create:Z};e.create=Z,e.cssClasses=_,e.default=K,Object.defineProperty(e,"__esModule",{value:!0})}(t)},715:(e,t,s)=>{var n={"./22.png":890,"./anger.png":396,"./bing-bong.png":159,"./buck.png":350,"./buzz-lightyear.png":733,"./carl.png":677,"./dug.png":875,"./eve.png":153,"./forky.png":329,"./jessie.png":964,"./joe.png":686,"./joy.png":838,"./lady.png":257,"./lotso.png":208,"./patrick.png":436,"./po.png":721,"./scrat.png":253,"./sid.png":873,"./spongebob.png":943,"./squidward.png":942,"./sullivan.png":876,"./tai-lung.png":138,"./tigress.png":545,"./tramp.png":450,"./wall-e.png":652,"./wazowski.png":37,"./woody.png":398};function r(e){return a(e).then((e=>s.t(e,1)))}function a(e){return Promise.resolve().then((()=>{if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}r.keys=()=>Object.keys(n),r.resolve=a,r.id=715,e.exports=r},890:(e,t,s)=>{"use strict";e.exports=s.p+"img/22.0dd33a99.png"},396:(e,t,s)=>{"use strict";e.exports=s.p+"img/anger.9eccc81b.png"},159:(e,t,s)=>{"use strict";e.exports=s.p+"img/bing-bong.a978eb7d.png"},350:(e,t,s)=>{"use strict";e.exports=s.p+"img/buck.321b2c3f.png"},733:(e,t,s)=>{"use strict";e.exports=s.p+"img/buzz-lightyear.32deb0af.png"},677:(e,t,s)=>{"use strict";e.exports=s.p+"img/carl.0d6f743d.png"},875:(e,t,s)=>{"use strict";e.exports=s.p+"img/dug.fc948ee0.png"},153:(e,t,s)=>{"use strict";e.exports=s.p+"img/eve.fb437fc3.png"},329:(e,t,s)=>{"use strict";e.exports=s.p+"img/forky.862573d1.png"},964:(e,t,s)=>{"use strict";e.exports=s.p+"img/jessie.5ab1098e.png"},686:(e,t,s)=>{"use strict";e.exports=s.p+"img/joe.457436c6.png"},838:(e,t,s)=>{"use strict";e.exports=s.p+"img/joy.c9a4ac95.png"},257:(e,t,s)=>{"use strict";e.exports=s.p+"img/lady.d634fd2a.png"},208:(e,t,s)=>{"use strict";e.exports=s.p+"img/lotso.d3adcd97.png"},436:(e,t,s)=>{"use strict";e.exports=s.p+"img/patrick.7fb8ca5e.png"},721:(e,t,s)=>{"use strict";e.exports=s.p+"img/po.d04cba61.png"},253:(e,t,s)=>{"use strict";e.exports=s.p+"img/scrat.5a3edb99.png"},873:(e,t,s)=>{"use strict";e.exports=s.p+"img/sid.c64b7665.png"},943:(e,t,s)=>{"use strict";e.exports=s.p+"img/spongebob.30a35cb6.png"},942:(e,t,s)=>{"use strict";e.exports=s.p+"img/squidward.b78ee758.png"},876:(e,t,s)=>{"use strict";e.exports=s.p+"img/sullivan.2031b3c0.png"},138:(e,t,s)=>{"use strict";e.exports=s.p+"img/tai-lung.7bfe9176.png"},545:(e,t,s)=>{"use strict";e.exports=s.p+"img/tigress.82470f49.png"},450:(e,t,s)=>{"use strict";e.exports=s.p+"img/tramp.3767ac4c.png"},652:(e,t,s)=>{"use strict";e.exports=s.p+"img/wall-e.d6fe3341.png"},37:(e,t,s)=>{"use strict";e.exports=s.p+"img/wazowski.abdd0cb6.png"},398:(e,t,s)=>{"use strict";e.exports=s.p+"img/woody.33b3a39e.png"}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return s[e].call(a.exports,a,a.exports,r),a.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"==typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"==typeof s.then)return s}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>s[e]));return i.default=()=>s,r.d(a,i),a},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/disney-toy-store/",(()=>{"use strict";var e,t,s,n;!function(e){e.CARTOON="cartoon",e.TYPE="type",e.HEIGHT="height",e.BESTSELLER="bestseller",e.YEARS="year",e.AMOUNT="amount",e.PRICE="price",e.SEARCH="search",e.SORT="sort",e.STORE="store",e.FAVORITE="favorite",e.RESET_SEARCH="resetSearch",e.RESET_FILTERS="resetFilters",e.RESET_ALL="resetAll",e.STORE_LIMIT="storeLimit"}(e||(e={})),function(e){e.NAME_UP="name_up",e.NAME_DOWN="name_down",e.YEAR_UP="year_up",e.YEAR_DOWN="year_down",e.PRICE_UP="price_up",e.PRICE_DOWN="price_down"}(t||(t={})),function(e){e.SEARCH="search",e.FILTERS="filters",e.ALL="all"}(s||(s={})),function(e){e.FILTER_BY_CARTOON="FILTER_BY_CARTOON",e.FILTER_BY_HEIGHT="FILTER_BY_HEIGHT",e.FILTER_BY_TYPE="FILTER_BY_TYPE",e.FILTER_BY_BESTSELLER="FILTER_BY_BESTSELLER",e.FILTER_BY_YEARS="FILTER_BY_YEARS",e.FILTER_BY_AMOUNT="FILTER_BY_AMOUNT",e.FILTER_BY_PRICE="FILTER_BY_PRICE",e.FILTER_BY_SEARCH="FILTER_BY_SEARCH",e.SORT="SORT",e.UPDATE_STORE="UPDATE_STORE",e.UPDATE_FAVORITES="UPDATE_FAVORITES",e.RESET_SEARCH="RESET_SEARCH",e.RESET_FILTERS="RESET_FILTERS",e.RESET_ALL="RESET_ALL"}(n||(n={}));const a=JSON.parse('[{"id":1,"cartoon":"SpongeBob","name":"SpongeBob","type":"figure","height":8,"year":1999,"amount":22,"price":32,"bestseller":false,"image":"spongebob.png"},{"id":2,"cartoon":"SpongeBob","name":"Squidward","type":"figure","height":10,"year":1999,"amount":10,"price":39,"bestseller":true,"image":"squidward.png"},{"id":3,"cartoon":"SpongeBob","name":"Patrick","type":"figure","height":8,"year":1999,"amount":14,"price":29,"bestseller":false,"image":"patrick.png"},{"id":5,"cartoon":"Inside Out","name":"Anger","type":"figure","height":8,"year":2015,"amount":25,"price":18,"bestseller":false,"image":"anger.png"},{"id":4,"cartoon":"Inside Out","name":"Joy","type":"figure","height":12,"year":2015,"amount":20,"price":19,"bestseller":false,"image":"joy.png"},{"id":6,"cartoon":"Inside Out","name":"Bing Bong","type":"figure","height":12,"year":2015,"amount":12,"price":23,"bestseller":true,"image":"bing-bong.png"},{"id":7,"cartoon":"WALL-E","name":"WALL-E","type":"mechanism","height":14,"year":2008,"amount":5,"price":99,"bestseller":true,"image":"wall-e.png"},{"id":8,"cartoon":"WALL-E","name":"EVE","type":"mechanism","height":12,"year":2008,"amount":12,"price":79,"bestseller":false,"image":"eve.png"},{"id":9,"cartoon":"Toy Story","name":"Woody","type":"figure","height":16,"year":1995,"amount":3,"price":72,"bestseller":true,"image":"woody.png"},{"id":10,"cartoon":"Toy Story","name":"Buzz Lightyear","type":"mechanism","height":14,"year":1995,"amount":7,"price":89,"bestseller":false,"image":"buzz-lightyear.png"},{"id":11,"cartoon":"Toy Story","name":"Jessie","type":"figure","height":16,"year":1995,"amount":14,"price":68,"bestseller":false,"image":"jessie.png"},{"id":12,"cartoon":"Toy Story","name":"Forky","type":"figure","height":10,"year":2019,"amount":28,"price":9,"bestseller":false,"image":"forky.png"},{"id":13,"cartoon":"Toy Story","name":"Lotso","type":"soft","height":18,"year":2010,"amount":6,"price":89,"bestseller":true,"image":"lotso.png"},{"id":14,"cartoon":"Kung Fu Panda","name":"Po","type":"soft","height":16,"year":2008,"amount":12,"price":23,"bestseller":false,"image":"po.png"},{"id":16,"cartoon":"Kung Fu Panda","name":"Tai Lung","type":"soft","height":14,"year":2008,"amount":9,"price":33,"bestseller":false,"image":"tai-lung.png"},{"id":15,"cartoon":"Kung Fu Panda","name":"Tigress","type":"soft","height":14,"year":2008,"amount":25,"price":46,"bestseller":false,"image":"tigress.png"},{"id":17,"cartoon":"Monsters","name":"Sullivan","type":"soft","height":18,"year":2001,"amount":4,"price":79,"bestseller":true,"image":"sullivan.png"},{"id":18,"cartoon":"Monsters","name":"Wazowski","type":"soft","height":14,"year":2001,"amount":18,"price":44,"bestseller":false,"image":"wazowski.png"},{"id":19,"cartoon":"Ice Age","name":"Sid","type":"soft","height":14,"year":2002,"amount":30,"price":12,"bestseller":false,"image":"sid.png"},{"id":21,"cartoon":"Ice Age","name":"Buck","type":"soft","height":16,"year":2009,"amount":13,"price":19,"bestseller":false,"image":"buck.png"},{"id":20,"cartoon":"Ice Age","name":"Scrat","type":"soft","height":10,"year":2002,"amount":23,"price":23,"bestseller":false,"image":"scrat.png"},{"id":22,"cartoon":"Up","name":"Carl","type":"soft","height":14,"year":2009,"amount":17,"price":27,"bestseller":false,"image":"carl.png"},{"id":23,"cartoon":"Up","name":"Dug","type":"soft","height":16,"year":2009,"amount":14,"price":29,"bestseller":false,"image":"dug.png"},{"id":24,"cartoon":"Soul","name":"Joe","type":"soft","height":16,"year":2020,"amount":26,"price":49,"bestseller":false,"image":"joe.png"},{"id":25,"cartoon":"Soul","name":"22","type":"soft","height":14,"year":2020,"amount":16,"price":52,"bestseller":false,"image":"22.png"},{"id":26,"cartoon":"Lady and the Tramp","name":"Tramp","type":"soft","height":18,"year":1990,"amount":11,"price":66,"bestseller":false,"image":"tramp.png"},{"id":27,"cartoon":"Lady and the Tramp","name":"Lady","type":"soft","height":14,"year":1990,"amount":19,"price":59,"bestseller":false,"image":"lady.png"}]'),i=e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},o=(e,t)=>{const s=new Set;return e.forEach((e=>s.add(e[t]))),[...s]},l=(e,t)=>{const s=o(e,t);return[Math.min(...s),Math.max(...s)]},c=(e,t,s)=>0===t.size?e:e.filter((e=>t.has(e[s]))),p=(e,t,s)=>e.filter((e=>e[s]>=t[0]&&e[s]<=t[1])),d=r.p+"img/disney-intro.ce685f84.mp4";var h=r(211);const u=class{constructor(e,t){this.element=this.generateElement(e,t),this.initFilterRange(e,t)}setResetAllClickHandler(e){this.element.querySelector("[data-reset-all]").addEventListener("click",(t=>{const s=t.currentTarget.dataset.resetAll;void 0!==s&&e({resetAll:s})}))}setResetFiltersClickHandler(e){this.element.querySelector("[data-reset-filters]").addEventListener("click",(t=>{const s=t.currentTarget.dataset.resetFilters;void 0!==s&&e({resetFilters:s})}))}setResetSearchClickHandler(e){this.element.querySelector("[data-reset-search]").addEventListener("click",(t=>{const s=t.currentTarget.dataset.resetSearch;void 0!==s&&(this.element.querySelector("input[data-search]").value="",e({resetSearch:s}))}))}setSortClickHandler(e){const t=t=>{const n=t.currentTarget,r=n.dataset.sort;void 0!==r&&(s.forEach((e=>{e.classList.remove("active")})),n.classList.add("active"),e({sort:r}))},s=this.element.querySelectorAll("[data-sort]");s.forEach((e=>{e.addEventListener("click",t)}))}setSearchInputHandler(e){this.element.querySelector("input[data-search]").addEventListener("input",(t=>{e({search:t.currentTarget.value})}))}setFilterValueClickHandler(e){const t=t=>{const s=t.currentTarget;void 0!==(s.dataset.cartoon||s.dataset.height||s.dataset.type||s.dataset.bestseller)&&(s.classList.toggle("active"),e(Object.assign({},s.dataset)))};this.element.querySelector("[data-bestseller]").addEventListener("click",t),this.element.querySelectorAll("[data-cartoon]").forEach((e=>{e.addEventListener("click",t)})),this.element.querySelectorAll("[data-height]").forEach((e=>{e.addEventListener("click",t)})),this.element.querySelectorAll("[data-type]").forEach((e=>{e.addEventListener("click",t)}))}setFilterRangeClickHandler(e){const t=this.element.querySelector("[data-range-year]"),s=this.element.querySelector("[data-range-year-min]"),n=this.element.querySelector("[data-range-year-max]");void 0!==t.noUiSlider&&(t.noUiSlider.on("update",(e=>{s.innerHTML=`${e[0]}`,n.innerHTML=`${e[1]}`})),t.noUiSlider.on("change",(t=>{e({year:t.join("-")})})));const r=this.element.querySelector("[data-range-price]"),a=this.element.querySelector("[data-range-price-min]"),i=this.element.querySelector("[data-range-price-max]");void 0!==r.noUiSlider&&(r.noUiSlider.on("update",(e=>{a.innerHTML=`${e[0]}`,i.innerHTML=`${e[1]}`})),r.noUiSlider.on("change",(t=>{e({price:t.join("-")})})))}initFilterRange(e,t){const s=this.element.querySelector("[data-range-year]"),n=this.element.querySelector("[data-range-price]");h.create(s,{start:t.years,connect:!0,step:1,format:{to:e=>e.toFixed(),from:e=>+e},tooltips:!0,range:{min:e.years[0],max:e.years[1]}}),h.create(n,{start:t.price,connect:!0,step:1,format:{to:e=>e.toFixed(),from:e=>+e},tooltips:!0,range:{min:e.price[0],max:e.price[1]}})}getElement(){return this.element}generateElement(e,t){return i(this.makeHTML(e,t))}makeHTML(e,n){let r="",a="",i="";e.cartoons.forEach((e=>{const t=n.cartoons.has(e)?"active":"";r+=`<li class="cartoons__item ${t}" data-cartoon="${e}">${e}</li>`})),e.heights.forEach((e=>{const t=n.heights.has(e)?"active":"";a+=`<li class="heights__item ${t}" data-height="${e}">${e} inch</li>`})),e.types.forEach((e=>{const t=n.types.has(e)?"active":"";i+=`<li class="types__item ${t}" data-type="${e}">${e}</li>`}));const o=n.bestseller?"checked":"";return`\n  <section class="settings">\n    <div class="settings__row1">\n      <div class="settings__row1-col1">\n        <div class="cartoons">\n          <h3 class="title-h3">Cartoon</h3>\n          <ul class="cartoons__list">\n            ${r}\n          </ul>\n        </div>\n        <div class="heights">\n          <h3 class="title-h3">Height</h3>\n          <ul class="heights__list">\n            ${a}\n          </ul>\n        </div>\n        <div class="types">\n          <h3 class="title-h3">Type</h3>\n          <ul class="types__list">\n            ${i}\n          </ul>\n        </div>\n      </div>\n      <div class="settings__row1-col2">\n        <div class="range">\n          <h3 class="title-h3">Release year</h3>\n          <div class="range__wrapper range__wrapper_year">\n            <div class="range__output" data-range-year-min></div>\n            <div class="range__slider" data-range-year></div>\n            <div class="range__output" data-range-year-max></div>\n          </div>\n          <h3 class="title-h3">Price</h3>\n          <div class="range__wrapper">\n            <div class="range__output" data-range-price-min></div>\n            <div class="range__slider" data-range-price></div>\n            <div class="range__output" data-range-price-max></div>\n          </div>\n        </div>\n        <div class="bestseller">\n          <label class="bestseller__label">\n            <h3 class="title-h3">Best-seller</h3>\n            <input\n              class="bestseller__checkbox-hidden"\n              type="checkbox"\n              data-bestseller="${n.bestseller}"\n              ${o} \n            />\n            <div class="bestseller__checkbox">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="512"\n                height="512"\n                x="0"\n                y="0"\n                viewBox="0 0 24 24"\n                style="enable-background: new 0 0 512 512"\n                xml:space="preserve"\n              >\n                <g>\n                  <path\n                    xmlns="http://www.w3.org/2000/svg"\n                    d="M1.51,6.079a1.492,1.492,0,0,1,1.06.44l7.673,7.672a2.5,2.5,0,0,0,3.536,0L21.44,6.529A1.5,1.5,0,1,1,23.561,8.65L15.9,16.312a5.505,5.505,0,0,1-7.778,0L.449,8.64A1.5,1.5,0,0,1,1.51,6.079Z"\n                    fill="#ffffff"\n                    data-original="#000000"\n                  />\n                </g>\n              </svg>\n            </div>\n          </label>\n        </div>\n        <div class="search">\n          <label class="search__label" for="search-input">\n            <h3 class="title-h3">Search</h3>\n          </label>\n          <div class="search__field">\n            <input class="input" id="search-input" type="text" value="${n.search}" placeholder="enter the title" autofocus autocomplete="off" data-search />\n            <span class="search__reset" data-reset-search="${s.SEARCH}">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="512"\n                height="512"\n                x="0"\n                y="0"\n                viewBox="0 0 512.021 512.021"\n                style="enable-background: new 0 0 512 512"\n                xml:space="preserve"\n              >\n                <g>\n                  <g xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M301.258,256.01L502.645,54.645c12.501-12.501,12.501-32.769,0-45.269c-12.501-12.501-32.769-12.501-45.269,0l0,0   L256.01,210.762L54.645,9.376c-12.501-12.501-32.769-12.501-45.269,0s-12.501,32.769,0,45.269L210.762,256.01L9.376,457.376   c-12.501,12.501-12.501,32.769,0,45.269s32.769,12.501,45.269,0L256.01,301.258l201.365,201.387   c12.501,12.501,32.769,12.501,45.269,0c12.501-12.501,12.501-32.769,0-45.269L301.258,256.01z"\n                      fill="#f9ca2e"\n                      data-original="#000000"\n                    />\n                  </g>\n                </g>\n              </svg>\n            </span>\n          </div>\n        </div>\n        <div class="sort">\n          <h3 class="title-h3">Sort</h3>\n          <div class="sort__wrapper sort__wrapper_name">\n            <span class="sort__caption">by name</span>\n            <span class="sort__up ${n.sort===t.NAME_UP?"active":""}" data-sort="${t.NAME_UP}">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="15"\n                height="15"\n                x="0"\n                y="0"\n                viewBox="0 0 24 24"\n                style="enable-background: new 0 0 15 15"\n                xml:space="preserve"\n              >\n                <g>\n                  <path\n                    xmlns="http://www.w3.org/2000/svg"\n                    d="M18.427,4.911,14.508.992a3.583,3.583,0,0,0-4.95,0L5.639,4.911A1.5,1.5,0,0,0,7.76,7.032l2.78-2.78.023,18.25a1.5,1.5,0,0,0,1.5,1.5h0a1.5,1.5,0,0,0,1.5-1.5L13.54,4.266l2.766,2.766a1.5,1.5,0,1,0,2.121-2.121Z"\n                    fill="#ffffff"\n                    data-original="#000000"\n                  />\n                </g></svg\n            ></span>\n            <span class="sort__down ${n.sort===t.NAME_DOWN?"active":""}" data-sort="${t.NAME_DOWN}">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="15"\n                height="15"\n                x="0"\n                y="0"\n                viewBox="0 0 24 24"\n                style="enable-background: new 0 0 15 15"\n                xml:space="preserve"\n              >\n                <g>\n                  <path\n                    xmlns="http://www.w3.org/2000/svg"\n                    d="M18.427,16.935a1.5,1.5,0,0,0-2.121,0l-2.781,2.779L13.5,1.5A1.5,1.5,0,0,0,12,0h0a1.5,1.5,0,0,0-1.5,1.5l.023,18.2L7.76,16.935a1.5,1.5,0,0,0-2.121,2.121l3.919,3.919a3.5,3.5,0,0,0,4.949,0l3.92-3.919A1.5,1.5,0,0,0,18.427,16.935Z"\n                    fill="#ffffff"\n                    data-original="#000000"\n                  />\n                </g>\n              </svg>\n            </span>\n          </div>\n          <div class="sort__wrapper">\n            <span class="sort__caption">by price</span>\n            <span class="sort__up ${n.sort===t.PRICE_UP?"active":""}" data-sort="${t.PRICE_UP}">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="15"\n                height="15"\n                x="0"\n                y="0"\n                viewBox="0 0 24 24"\n                style="enable-background: new 0 0 15 15"\n                xml:space="preserve"\n              >\n                <g>\n                  <path\n                    xmlns="http://www.w3.org/2000/svg"\n                    d="M18.427,4.911,14.508.992a3.583,3.583,0,0,0-4.95,0L5.639,4.911A1.5,1.5,0,0,0,7.76,7.032l2.78-2.78.023,18.25a1.5,1.5,0,0,0,1.5,1.5h0a1.5,1.5,0,0,0,1.5-1.5L13.54,4.266l2.766,2.766a1.5,1.5,0,1,0,2.121-2.121Z"\n                    fill="#ffffff"\n                    data-original="#000000"\n                  />\n                </g>\n              </svg>\n            </span>\n            <span class="sort__down ${n.sort===t.PRICE_DOWN?"active":""}" data-sort="${t.PRICE_DOWN}">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                xmlns:svgjs="http://svgjs.com/svgjs"\n                version="1.1"\n                width="15"\n                height="15"\n                x="0"\n                y="0"\n                viewBox="0 0 24 24"\n                style="enable-background: new 0 0 15 15"\n                xml:space="preserve"\n              >\n                <g>\n                  <path\n                    xmlns="http://www.w3.org/2000/svg"\n                    d="M18.427,16.935a1.5,1.5,0,0,0-2.121,0l-2.781,2.779L13.5,1.5A1.5,1.5,0,0,0,12,0h0a1.5,1.5,0,0,0-1.5,1.5l.023,18.2L7.76,16.935a1.5,1.5,0,0,0-2.121,2.121l3.919,3.919a3.5,3.5,0,0,0,4.949,0l3.92-3.919A1.5,1.5,0,0,0,18.427,16.935Z"\n                    fill="#ffffff"\n                    data-original="#000000"\n                  />\n                </g>\n              </svg>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="settings__row2">\n      <div class="reset">\n        <button class="reset__filters button" type="button" data-reset-filters="${s.FILTERS}">\n          reset filters\n        </button>\n        <button class="reset__all button" type="button" data-reset-all="${s.ALL}">\n          reset all\n        </button>\n      </div>\n    </div>\n  </section>\n  `}},g=r.p+"img/github-logo.266ca631.png",m=r.p+"img/rs_school.ad178c0d.svg",f=r.p+"img/cart_full.59c648ff.svg",y=r.p+"img/volume.b4332986.svg",v=r.p+"img/volume_muted.2d349e6c.svg",S=class{constructor(e,t,s){this.element=this.generateElement(e,t,s)}getElement(){return this.element}generateElement(e,t,s){return i(this.makeHTML(e,t,s))}makeHTML(e,t,s){return`\n    <header class="header">\n      <h1 class="header__title">\n        <span class="header__color">Disney</span> Toy Store\n      </h1>\n      <div class="header__favorites">\n        <img src="" alt="favorites" />\n        <span class="header__favorites-count" >${t.size}</span>\n      </div>\n      <div class="header__volume ${s?"":"active"}">\n        <img class="header__volume-muted" src="${v}" alt="volume muted" />\n        <img class="header__volume-on" src="${y}" alt="volume" />\n      </div>\n      <div class="header__store">\n        <img src="${f}" alt="cart" />\n        <span class="header__store-count">${e.size}</span>\n      </div>\n    </header>\n    `}},E=r.p+"img/crying.e11c8b8f.png",b=r.p+"img/cart_empty.6ac1ee8e.svg";const _=class{constructor(e,t,s){this.data=e,this.selectedSettings=t,this.element=this.generateElement(s)}removeActiveClass(e){var t;null===(t=this.element.querySelector(`[data-store='${e}']`))||void 0===t||t.classList.remove("active")}getElement(){return this.element}generateElement(e){const t=i(this.makeHTML());return 0===this.data.length?(t.append((new class{constructor(){this.element=this.generateElement()}getElement(){return this.element}generateElement(){return i(this.makeHTML())}makeHTML(){return`\n      <div class="not-found">\n        <p class="not-found__msg">No matches found</p>\n        <img class="not-found__img" src="${E}" alt="not found">\n      </div>\n    `}}).getElement()),t):(this.data.forEach((s=>{return n=this,a=void 0,l=function*(){const n=yield r(715)(`./${s.image}`),a=new class{constructor(e,t,s){this.element=this.generateElement(e,t,s)}setStoreClickHandler(e){this.element.querySelector("[data-store]").addEventListener("click",(t=>{const s=t.currentTarget,n=s.dataset.store;void 0!==n&&(s.classList.toggle("active"),e({store:n}))}))}setFavoriteClickHandler(e){this.element.querySelector("[data-favorite]").addEventListener("click",(t=>{const s=t.currentTarget,n=s.dataset.favorite;void 0!==n&&(s.classList.toggle("active"),e({favorite:n}))}))}getElement(){return this.element}generateElement(e,t,s){return i(this.makeHTML(e,t,s))}makeHTML(e,t,s){return`\n    <div class="toys__col">\n      <div class="toy toy_${e.name.split(" ").join("-").toLowerCase()} ${e.bestseller?"toy_best":""}">\n        <div class="toy__desc">\n          <span class="toy__cartoon">${e.cartoon}</span>\n          <h2 class="toy__title title-h2">${e.name}</h2>\n          <ul class="toy__features">\n            <li class="toy__feature">${e.type}</li>\n            <li class="toy__feature">${e.height} inch</li>\n            <li class="toy__feature">${e.year} year</li>\n            <li class="toy__feature toy__price">$${e.price}</li>\n          </ul>\n          <div class="toy__buttons">\n            <span class="toy__store ${s.store.has(e.id)?"active":""}" \n              data-store="${e.id}">\n              <img class="toy__store_empty" src="${b}" alt="add to cart" />\n              <img class="toy__store_full" src="${f}" alt="added to cart" />\n            </span>\n            <span class="toy__favorite ${s.favorites.has(e.id)?"active":""}" \n              data-favorite="${e.id}">\n              <img class="toy__favorite_empty" src="" alt="add to favorite" />\n              <img class="toy__favorite_full" src="" alt="added to favorite" />\n            </span>\n          </div>\n        </div>\n        <div class="toy__img">\n          <img src="${t}" alt="${e.name}" />\n        </div>\n        <div class="toy__ribbon"><span class="toy__ribbon-text">best</span></div>\n      </div>\n    </div>\n  `}}(s,n.default,this.selectedSettings);a.setStoreClickHandler(e),a.setFavoriteClickHandler(e),t.append(a.getElement())},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}i((l=l.apply(n,a||[])).next())}));var n,a,o,l})),t)}makeHTML(){return'\n    <section class="toys">\n    </section>\n    '}},w=class{constructor(e,t){this.isMuted=!0,this.callback=t,this.headerComponent=new S(e.selectedSettings.store,e.selectedSettings.favorites,this.isMuted),this.filtersComponent=new u(e.displayedFilters,e.selectedSettings),this.toysComponent=new _(e.displayedToys,e.selectedSettings,this.callback),this.footerComponent=new class{getElement(){return i(this.makeHTML())}makeHTML(){return`\n    <footer class="footer">\n      <a class="footer__github" href="https://github.com/iamrealmarsel" target="_blank">\n        <img src="${g}" alt="github-logo" />\n      </a>\n      <span>2022</span>\n      <a class="footer__rsschool" href="https://rs.school/js/" target="_blank">\n        <img src="${m}" alt="rs-school-logo" />\n      </a>\n    </footer>\n  `}},this.element=this.generateElement(),this.setVolumeClickHandler()}showLimitNotice(e){alert("Sorry, all slots are full"),this.toysComponent.removeActiveClass(e)}redrawToys(e,t){const s=this.toysComponent.getElement();this.toysComponent=new _(e,t,this.callback),s.replaceWith(this.toysComponent.getElement())}redrawFilters(e,t){const s=this.filtersComponent.getElement();this.filtersComponent=new u(e,t),s.replaceWith(this.filtersComponent.getElement())}redrawHeader(e,t){const s=this.headerComponent.getElement();this.headerComponent=new S(e,t,this.isMuted),s.replaceWith(this.headerComponent.getElement()),this.setVolumeClickHandler()}setVolumeClickHandler(){var e;const t=this.element.querySelector(".video-cover");null===(e=this.element.querySelector(".header__volume"))||void 0===e||e.addEventListener("click",(e=>{e.currentTarget.classList.toggle("active"),t.muted=!t.muted,this.isMuted=t.muted}))}setResetSearchClickHandler(){this.filtersComponent.setResetSearchClickHandler(this.callback)}setResetFiltersClickHandler(){this.filtersComponent.setResetFiltersClickHandler(this.callback)}setResetAllClickHandler(){this.filtersComponent.setResetAllClickHandler(this.callback)}setSortClickHandler(){this.filtersComponent.setSortClickHandler(this.callback)}setFilterValueClickHandler(){this.filtersComponent.setFilterValueClickHandler(this.callback)}setFilterRangeClickHandler(){this.filtersComponent.setFilterRangeClickHandler(this.callback)}setSearchInputHandler(){this.filtersComponent.setSearchInputHandler(this.callback)}destroy(){this.element.remove()}getElement(){return this.element}generateElement(){const e=i(this.makeHTML()),t=e.querySelector(".content__container");return t.append(this.headerComponent.getElement()),t.append(this.filtersComponent.getElement()),t.append(this.toysComponent.getElement()),t.append(this.footerComponent.getElement()),e}makeHTML(){return`\n    <main>\n      <video class="video-cover" autoplay loop muted>\n        <source src="${d}" type="video/mp4" />\n      </video>\n      <div class="content">\n        <div class="content__container">\n        </div>\n      </div>\n    </main>\n    `}};new class{constructor(r){this.updateSettingsHandler=this.updateSettingsHandler.bind(this),this.containerElement=r,this.appModel=new class{constructor(){this.observers=[],this.toys=a,this.displayedFilters={cartoons:o(this.toys,e.CARTOON),types:o(this.toys,e.TYPE),heights:o(this.toys,e.HEIGHT).sort(((e,t)=>e-t)),years:l(this.toys,e.YEARS),amount:l(this.toys,e.AMOUNT),price:l(this.toys,e.PRICE)},this.selectedSettings=this.getSettings(),this.displayedToys=[],this.updateToys()}addObserver(e){this.observers.push(e)}notify(e,t,s){this.observers.forEach((n=>n(e,t,s)))}getSettings(){const e=localStorage.getItem("selected-settings");if(e){const t=JSON.parse(e);return Object.assign(Object.assign({},t),{cartoons:new Set(t.cartoons),heights:new Set(t.heights),types:new Set(t.types),store:new Set(t.store),favorites:new Set(t.favorites)})}return{cartoons:new Set,heights:new Set,types:new Set,bestseller:!1,search:"",sort:"",years:this.displayedFilters.years,amount:this.displayedFilters.amount,price:this.displayedFilters.price,store:new Set,favorites:new Set}}getState(){return{displayedToys:this.displayedToys,displayedFilters:this.displayedFilters,selectedSettings:this.selectedSettings}}updateToys(){const s=c(this.toys,this.selectedSettings.cartoons,e.CARTOON),n=c(s,this.selectedSettings.heights,e.HEIGHT),r=(a=c(n,this.selectedSettings.types,e.TYPE),this.selectedSettings.bestseller?a.filter((e=>e.bestseller)):a);var a;const i=p(r,this.selectedSettings.years,e.YEARS),o=p(i,this.selectedSettings.amount,e.AMOUNT),l=((e,t)=>""===t?e:e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))))(p(o,this.selectedSettings.price,e.PRICE),this.selectedSettings.search),d=((e,s)=>{switch(this.selectedSettings.sort){case t.NAME_UP:return e.sort(((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0));case t.NAME_DOWN:return e.sort(((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?1:e.name.toLowerCase()>t.name.toLowerCase()?-1:0));case t.YEAR_UP:return e.sort(((e,t)=>e.year-t.year));case t.YEAR_DOWN:return e.sort(((e,t)=>t.year-e.year));case t.PRICE_UP:return e.sort(((e,t)=>e.price-t.price));case t.PRICE_DOWN:return e.sort(((e,t)=>t.price-e.price));default:return e}})(l);this.displayedToys=d}updateLocalStorage(){const e=Object.assign(Object.assign({},this.selectedSettings),{cartoons:[...this.selectedSettings.cartoons],heights:[...this.selectedSettings.heights],types:[...this.selectedSettings.types],store:[...this.selectedSettings.store],favorites:[...this.selectedSettings.favorites]});localStorage.setItem("selected-settings",JSON.stringify(e))}resetFilters(){this.selectedSettings.cartoons.clear(),this.selectedSettings.heights.clear(),this.selectedSettings.types.clear(),this.selectedSettings.years=this.displayedFilters.years,this.selectedSettings.amount=this.displayedFilters.amount,this.selectedSettings.price=this.displayedFilters.price,this.selectedSettings.bestseller=!1,this.selectedSettings.search=""}resetSettings(e){switch(e){case s.FILTERS:this.resetFilters(),this.updateLocalStorage();break;case s.SEARCH:this.selectedSettings.search="",this.updateLocalStorage();break;case s.ALL:this.resetFilters(),this.selectedSettings.sort="",this.selectedSettings.store=new Set,this.selectedSettings.favorites=new Set,localStorage.removeItem("selected-settings")}}dispatch(t){switch(t.type){case n.FILTER_BY_CARTOON:this.selectedSettings.cartoons.has(t.payload.cartoon)?this.selectedSettings.cartoons.delete(t.payload.cartoon):this.selectedSettings.cartoons.add(t.payload.cartoon),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.CARTOON);break;case n.FILTER_BY_HEIGHT:this.selectedSettings.heights.has(+t.payload.height)?this.selectedSettings.heights.delete(+t.payload.height):this.selectedSettings.heights.add(+t.payload.height),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.HEIGHT);break;case n.FILTER_BY_TYPE:this.selectedSettings.types.has(t.payload.type)?this.selectedSettings.types.delete(t.payload.type):this.selectedSettings.types.add(t.payload.type),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.TYPE);break;case n.FILTER_BY_BESTSELLER:this.selectedSettings.bestseller=!this.selectedSettings.bestseller,this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.BESTSELLER);break;case n.FILTER_BY_YEARS:this.selectedSettings.years=t.payload.year.split("-").map((e=>+e)),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.YEARS);break;case n.FILTER_BY_AMOUNT:this.selectedSettings.amount=t.payload.amount.split("-").map((e=>+e)),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.AMOUNT);break;case n.FILTER_BY_PRICE:this.selectedSettings.price=t.payload.price.split("-").map((e=>+e)),this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.PRICE);break;case n.FILTER_BY_SEARCH:this.selectedSettings.search=t.payload.search,this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.SEARCH);break;case n.SORT:this.selectedSettings.sort=t.payload.sort,this.updateLocalStorage(),this.updateToys(),this.notify(this.getState(),e.SORT);break;case n.UPDATE_STORE:this.selectedSettings.store.has(+t.payload.store)?(this.selectedSettings.store.delete(+t.payload.store),this.updateLocalStorage(),this.notify(this.getState(),e.STORE)):this.selectedSettings.store.size<20?(this.selectedSettings.store.add(+t.payload.store),this.updateLocalStorage(),this.notify(this.getState(),e.STORE)):this.notify(this.getState(),e.STORE_LIMIT,t.payload.store);break;case n.UPDATE_FAVORITES:this.selectedSettings.favorites.has(+t.payload.favorite)?this.selectedSettings.favorites.delete(+t.payload.favorite):this.selectedSettings.favorites.add(+t.payload.favorite),this.updateLocalStorage(),this.notify(this.getState(),e.FAVORITE);break;case n.RESET_SEARCH:this.resetSettings(t.payload.resetSearch),this.updateToys(),this.notify(this.getState(),e.RESET_SEARCH);break;case n.RESET_FILTERS:this.resetSettings(t.payload.resetFilters),this.updateToys(),this.notify(this.getState(),e.RESET_FILTERS);break;case n.RESET_ALL:this.resetSettings(t.payload.resetAll),this.updateToys(),this.notify(this.getState(),e.RESET_ALL)}}},this.appModel.addObserver(this.redraw.bind(this)),this.state=this.appModel.getState(),this.appComponent=new w(this.state,this.updateSettingsHandler),this.setSettingHandlers()}init(){this.containerElement.append(this.appComponent.getElement())}setSettingHandlers(){this.appComponent.setFilterValueClickHandler(),this.appComponent.setFilterRangeClickHandler(),this.appComponent.setSearchInputHandler(),this.appComponent.setSortClickHandler(),this.appComponent.setResetSearchClickHandler(),this.appComponent.setResetFiltersClickHandler(),this.appComponent.setResetAllClickHandler()}redraw(t,s,n){s===e.CARTOON||s===e.HEIGHT||s===e.TYPE||s===e.BESTSELLER||s===e.SEARCH||s===e.RESET_SEARCH||s===e.YEARS||s===e.AMOUNT||s===e.PRICE||s===e.SORT?this.appComponent.redrawToys(t.displayedToys,t.selectedSettings):s===e.RESET_FILTERS?(this.appComponent.redrawFilters(t.displayedFilters,t.selectedSettings),this.appComponent.redrawToys(t.displayedToys,t.selectedSettings),this.setSettingHandlers()):s===e.RESET_ALL?(this.appComponent.destroy(),this.appComponent=new w(t,this.updateSettingsHandler),this.setSettingHandlers(),this.containerElement.append(this.appComponent.getElement())):s===e.STORE||s===e.FAVORITE?this.appComponent.redrawHeader(t.selectedSettings.store,t.selectedSettings.favorites):s===e.STORE_LIMIT&&this.appComponent.showLimitNotice(n)}updateSettingsHandler(t){switch(Object.keys(t)[0]){case e.CARTOON:this.appModel.dispatch((e=>({type:n.FILTER_BY_CARTOON,payload:e}))(t));break;case e.HEIGHT:this.appModel.dispatch((e=>({type:n.FILTER_BY_HEIGHT,payload:e}))(t));break;case e.TYPE:this.appModel.dispatch((e=>({type:n.FILTER_BY_TYPE,payload:e}))(t));break;case e.BESTSELLER:this.appModel.dispatch((e=>({type:n.FILTER_BY_BESTSELLER,payload:e}))(t));break;case e.YEARS:this.appModel.dispatch((e=>({type:n.FILTER_BY_YEARS,payload:e}))(t));break;case e.AMOUNT:this.appModel.dispatch((e=>({type:n.FILTER_BY_AMOUNT,payload:e}))(t));break;case e.PRICE:this.appModel.dispatch((e=>({type:n.FILTER_BY_PRICE,payload:e}))(t));break;case e.SEARCH:this.appModel.dispatch((e=>({type:n.FILTER_BY_SEARCH,payload:e}))(t));break;case e.SORT:this.appModel.dispatch((e=>({type:n.SORT,payload:e}))(t));break;case e.STORE:this.appModel.dispatch((e=>({type:n.UPDATE_STORE,payload:e}))(t));break;case e.FAVORITE:this.appModel.dispatch((e=>({type:n.UPDATE_FAVORITES,payload:e}))(t));break;case e.RESET_SEARCH:this.appModel.dispatch((e=>({type:n.RESET_SEARCH,payload:e}))(t));break;case e.RESET_FILTERS:this.appModel.dispatch((e=>({type:n.RESET_FILTERS,payload:e}))(t));break;case e.RESET_ALL:this.appModel.dispatch((e=>({type:n.RESET_ALL,payload:e}))(t))}}}(document.querySelector("#root")).init()})()})();